#include<stdio.h>
#include<stdlib.h>
main(){
	
	int *p=NULL;
	int i,w=0,soma=0,media=0;
	p = (int*) malloc(sizeof(int));
	
	if(p){
		
		do{
			printf("Digite um valor: ");
			scanf("%d",(p+i));
			if(*(p+i) < 0) break;
			i++;
			p = (int*) realloc(p,i+(sizeof(int)));

		}while(1);
		printf("\n");
		w =i;
		printf("Foram lidos %d numeros !\n",w);
		for(i=0; i<w; i++){
			printf("Valor da posicao %d: %d\n",i,*(p+i));
			soma = soma + *(p+i);
		}
		media = soma/w;
		printf("Soma total: %d\n",soma);
		printf("Media: %d\n",media);
	}
	free(p);
}
